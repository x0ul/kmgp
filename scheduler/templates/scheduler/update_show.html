{% extends 'base.html' %}

{% block header %}
<div class="flex text-4xl text-gray-800">{% block title %}Edit <div class="pl-2 font-medium italic text-indigo-700">{{ show['title'] }}</div> {% endblock %}</div>
{% endblock %}

{% block content %}
<div class="text-gray-800">
  <form class="rounded px-8 pt-6 pb-8 mb-4" method="post">
    <label class="block font-bold text-lg mb-2" for="title">Show Title</label>
    <input class="block w-full border-2 px-2 py-2 mb-4" name="title" id="title" value="{{ request.form['title'] or show['title'] }}" required>
    <label class="block font-bold text-lg mb-2" for="djs">DJs (may select multiple)</label>
    <select class="block w-full border-2 px-2 py-2 mb-4" multiple name="djs" id="djs">
      {% for dj in all_djs %}
      {% if dj['id'] in current_djs %}
      <option value="{{ dj['id'] }}" selected>{{ dj['name'] }}</option>
      {% else %}
      <option value="{{ dj['id'] }}">{{ dj['name'] }}</option>
      {% endif %}
      {% endfor %}
    </select>
    <label class="block font-bold text-lg mb-2" for="description">Description</label>
    <textarea class="block w-full border-2 px-2 py-2 mb-4" name="description" id="description">{{ request.form['description'] or show['description'] }}</textarea>
    <input class="w-full font-bold text-lg border-2 rounded px-2 py-2" type="submit" value="Save">
  </form>
</div>
{% endblock %}
